보호 기법 중 유효-무효 비트(valid-invalid bit)는 메모리 관리, 특히 페이징(paging) 환경에서 중요한 역할을 합니다. 이는 프로세스가 접근할 수 있는 합법적인(legal) 주소 공간을 정의하고, 메모리 보호 및 요구 페이징(demand paging)을 구현하는 데 핵심적인 기능을 수행합니다.
유효-무효 비트와 메모리 관리의 큰 맥락은 다음과 같습니다:

기본 개념 및 위치
◦ 유효-무효 비트는 일반적으로 페이지 테이블의 각 항목에 추가됩니다. 페이지 테이블은 CPU가 생성하는 논리 주소(또는 가상 주소)를 물리 주소로 변환하는 데 사용되는 자료 구조입니다.
◦ 페이지 테이블의 각 항목은 논리 페이지가 물리 메모리의 어떤 프레임에 저장되어 있는지를 나타냅니다.

메모리 보호에서의 역할
◦ 이 비트가 '유효(valid)'로 설정되어 있으면, 해당 페이지는 프로세스의 논리 주소 공간 내에 있으며 합법적인 페이지임을 의미합니다.
◦ 반대로 비트가 '무효(invalid)'로 설정되어 있으면, 해당 페이지는 프로세스의 논리 주소 공간에 없거나(따라서 불법적인 주소이거나), 유효하지만 현재 물리 메모리에 없는 상태임을 나타냅니다.
◦ 프로세스가 무효(invalid)로 설정된 페이지를 참조하려고 하면, 하드웨어는 운영 체제에 트랩(trap)을 발생시켜 메모리 보호 위반을 알립니다. 이를 통해 프로세스는 자신이 소유하지 않은 메모리 영역에 접근할 수 없게 되어 서로 다른 프로세스들이 메모리 공간을 분리하여 안전하게 실행될 수 있도록 보호됩니다.

요구 페이징에서의 중요성
◦ 요구 페이징은 프로그램 실행 시 필요한 페이지만을 물리 메모리에 로드하는 기법입니다. 유효-무효 비트는 여기서 물리 메모리에 페이지가 존재하는지 여부를 나타내는 핵심 지표로 사용됩니다.
◦ 만약 페이지가 물리 메모리에 없지만 논리 주소 공간에는 존재하는 경우, 페이지 테이블의 해당 항목은 '무효(invalid)'로 표시됩니다.
◦ 프로세스가 이 '무효' 페이지를 참조하면 페이지 폴트(page fault)가 발생합니다. 운영 체제는 이 트랩을 처리하여 필요한 페이지를 보조 저장 장치(예: 스왑 공간)에서 찾아 물리 메모리로 가져오고, 페이지 테이블의 해당 항목을 '유효'로 업데이트한 후 중단된 명령을 재시작합니다. 이 과정을 통해 사용자는 페이징이 논리적으로 투명하게 이루어짐을 인식하지 못하게 됩니다.

내부 단편화와의 관계
◦ 유효-무효 비트를 사용하는 이 기법은 내부 단편화(internal fragmentation) 문제를 부각시킬 수 있습니다. 예를 들어, 특정 페이지 크기로 인해 프로세스의 실제 코드나 데이터가 페이지 전체를 채우지 못하더라도, 해당 페이지는 '유효'로 표시되어 메모리 공간이 할당될 수 있기 때문입니다.
요약하자면, 유효-무효 비트는 페이징 시스템에서 메모리 보호를 제공하고, 요구 페이징을 통해 가상 메모리 크기를 물리 메모리 제약으로부터 독립시키는 데 필수적인 하드웨어 지원입니다.